<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text Transformation</title>
<style>
    #output-text {
        color: blue;
    }
</style>
</head>
<body>
    <p id="original-text">Click the button to transform the text.</p>
    <p id="output-text"></p>
    
    <button onclick="getToken()">getToken</button>
    <button onclick="getDeviceId()">getDeviceId</button>
    <script>
          function whoami() {
      let output = "参数列表:\n";
      for (let i = 0; i < arguments.length; i++) {
        output += `参数 ${i + 1}: ${arguments[i]}\n`;
      }
      // alert(output);
       var originalText = document.getElementById('original-text');
      var outputText = document.getElementById('output-text');

      outputText.textContent = output
      originalText.style.display = 'none';
      outputText.style.display = 'block';
      
    }
    
    // account.authorize('{"type":"code","callbackFunc":"whoami"}');
    
    function getToken() {
      window.system.postMessage('{"cmd":"getToken"}')
    }
    function getDeviceId() {
      window.system.postMessage('{"cmd":"getDeviceId"}')
    }

        
    system.onmessage = function (data) {
    console.log(data)
        
     var originalText = document.getElementById('original-text');
      var outputText = document.getElementById('output-text');

      outputText.textContent = data
      originalText.style.display = 'none';
      outputText.style.display = 'block';   
    }
    </script>
</body>
</html>
<script>


